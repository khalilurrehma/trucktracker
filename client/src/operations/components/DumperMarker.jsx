import React from "react";
import { alpha, useTheme } from "@mui/material/styles";

export default function DumperMarker({
  size = 50,
  fill = "#f9b233",
  heading = 0,
  label,
}) {
  const theme = useTheme();
  const outline = theme.palette.mode === "dark" ? alpha("#000", 0.8) : alpha("#000", 0.9);
  const stroke = alpha("#000", 0.85);

  return (
    <div style={{ display: "grid", placeItems: "center" }}>
      {label && (
        <div
          style={{
            background: "#d32f2f",
            color: "#fff",
            fontWeight: 600,
            fontSize: 11,
            padding: "2px 8px",
            borderRadius: 8,
            marginBottom: 4,
            boxShadow: "0 2px 5px rgba(0,0,0,0.4)",
          }}
        >
          {label}
        </div>
      )}

      {/* Halo for contrast */}
        <div
        style={{
          width: size + 24,
          height: size + 24,
          borderRadius: "50%",
          background: alpha(outline, 0.35),
          position: "absolute",
          filter: "blur(3px)",
        }}
      />


      {/* 3D Dumper */}
         <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 511.99 511.99"
        width={size}
        height={size}
        fill="none"
      >
        <path
          fill="#FFCE54"
          d="M382.821,261.789c-11.406-22.218-38.266-38.937-79.827-49.655
          c-20.874-5.391-40.046-7.843-49.968-8.843L212.683,92.355c-1.531-4.219-5.531-7.016-10.016-7.016H74.67
          c-5.156,0-9.578,3.688-10.5,8.75L21.499,328.748c-1.031,5.719,2.703,11.25,8.406,12.375l106.67,21.344
          c0.688,0.125,1.391,0.188,2.094,0.188h234.652c5.891,0,10.672-4.75,10.672-10.656v-85.334
          C383.993,264.976,383.587,263.305,382.821,261.789z"
        />
        <path
          fill="#ED5564"
          d="M470.866,303.625c-8.359-6.875-16.984-14-25.938-23.094c-15.422-15.695-23.328-36.351-23.5-61.397
          c-0.141-19.437,4.641-34.312,4.688-34.437c1.078-3.25,0.531-6.828-1.484-9.609c-2-2.781-5.219-4.422-8.64-4.422h-42.671
          c-5.891,0-10.656,4.781-10.656,10.672v192.004c0,5.875,4.766,10.656,10.656,10.656h127.997c5.891,0,10.672-4.781,10.672-10.656
          C511.99,337.56,492.929,321.842,470.866,303.625z"
        />
        <path
          fill="#DA4453"
          d="M362.665,373.342c0,5.875,4.766,10.656,10.656,10.656h127.997c5.891,0,10.672-4.781,10.672-10.656
          c0-8.062-0.969-15.062-2.719-21.344H362.665V373.342z"
        />
        <path
          fill="#4FC2E9"
          d="M231.73,277.344l-42.937-131.318c-1.422-4.391-5.516-7.359-10.125-7.359h-73.342
          c-5.203,0-9.656,3.766-10.516,8.906L72.983,277.344H231.73z"
        />
        <path
          fill="#434A54"
          d="M95.998,234.664C43.061,234.664,0,277.717,0,330.654c0,52.938,43.062,95.998,95.998,95.998
          s95.998-43.061,95.998-95.998C191.996,277.719,148.934,234.664,95.998,234.664z"
        />
        <path
          fill="#CCD1D9"
          d="M95.998,298.656c-17.64,0-32,14.373-32,31.998c0,17.656,14.359,32,32,32s32-14.344,32-32
          C127.997,313.029,113.639,298.656,95.998,298.656z"
        />
        <path
          fill="#434A54"
          d="M319.993,298.656c-35.295,0-63.998,28.717-63.998,63.998c0,35.312,28.703,63.998,63.998,63.998
          c35.297,0,64-28.686,64-63.998C383.993,327.373,355.29,298.656,319.993,298.656z"
        />
        <path
          fill="#CCD1D9"
          d="M309.322,362.654c0,5.906,4.781,10.688,10.671,10.688c5.891,0,10.672-4.781,10.672-10.688
          c0-5.875-4.781-10.656-10.672-10.656C314.103,351.998,309.322,356.779,309.322,362.654z"
        />
        <path
          fill="#F6BB42"
          d="M213.324,106.667H63.998c-5.89,0-10.671-4.765-10.671-10.671c0-5.875,4.781-10.656,10.671-10.656h149.326
          c5.89,0,10.671,4.781,10.671,10.656C223.995,101.902,219.214,106.667,213.324,106.667z"
        />
      </svg>
      </div>
  );
}
